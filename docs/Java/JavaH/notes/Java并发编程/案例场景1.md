---
title: 多线程 API 用例
date: 2020-09-16 21:55:00
categories: 
tags:
---
## Interrupt 使用
```java
public static void main(String[] args) throws InterruptedException {
    // 主动检测
    Thread t1 = new Thread(() -> {
        System.out.println("t1 start");
        while (!Thread.currentThread().isInterrupted()) {
            // do some
        }
        System.out.println("t1 done");
    });

    // 被动通知
    Thread t2 = new Thread(() -> {
        while (!Thread.currentThread().isInterrupted()) {
            System.out.println("t2 start");
            try {
                Thread.sleep(10000);
            } catch (InterruptedException e) {
                // 抛出异常后，中断标示会自动清除掉，因此需要自己中断自己一次
                Thread.currentThread().interrupt();  
            }
        }
        System.out.println("t2 done");
    });
}
```